<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>explain-deltas.xsl</title></head><body><div><pre class="spectrum" style="&#xA;    margin:0px;&#xA;    font-family:'Source Code Pro', monospace;&#xA;    font-size: 0.8em;&#xA;    white-space: pre-wrap;&#xA;    display: block;&#xA;    border: none thin;&#xA;    border-color: #405075;&#xA;    background-color:#002b36;&#xA;    padding: 2px;&#xA;    margin-bottom:5px;&#xA;"><span class="z" style="color: #586e75">&lt;?</span><span class="pi" style="color: #2aa198">xml version="1.0" encoding="UTF-8"</span><span class="z" style="color: #586e75">?&gt;</span><span class="txt" style="color: #839496">
</span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:stylesheet</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">xmlns:xsl</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://www.w3.org/1999/XSL/Transform</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:deltaxml</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://www.deltaxml.com/ns/well-formed-delta-v1</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:dxx</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://www.deltaxml.com/ns/xml-namespaced-attribute</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:dxa</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://www.deltaxml.com/ns/non-namespaced-attribute</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:mrg</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://www.deltaxml.com/ns/merge</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">xmlns:xs</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://www.w3.org/2001/XMLSchema</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">version</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">2.0</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">exclude-result-prefixes</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs deltaxml</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="z" style="color: #586e75">&lt;!--</span><span class="cm" style="color: #859900"> 
  Explains changes to the base made by 1 or more reviewers. Each change is wrapped
  in an explainer element in the merge namespace; this has 'change-type' and 'owner' attributes
  
  The purpose here is to provide a simplified output from Merge to make it easier to
  write a 'resolver' XSLT template against.
  
  The change-type may be one of the following:
  'non-competing', 'competing', 'add', 'delete'
  It is essential for 'competing' changes to have rules to reconcile differences;
  for other change types, rules are optional.
  Parameters:
  @baseVersion - set this to the name of the base version
  
  Extra cases for 'four-edits-result.xml': 
  Conflicting:
  1. anna changes 'editors' to 'people' at the same time as ben changed 'editors'
  to 'reviewers'
  
  Non-Conflicting:
  2. anna adds the word 'single' between 'on a ' and 'document simultaneously'
  
  3. anna removes the entire paragraph:
  &lt;p&gt;accept or reject changes from multiple reviewers by working on just one document&lt;/p&gt;
  
  4. anna adds xml:lang='en' attribute to the &lt;title&gt; element
  
  5. ann adds importance='high' attribute to &lt;section&gt; element (added by her also)
  
  
  </span><span class="z" style="color: #586e75">--&gt;</span><span class="txt" style="color: #839496">
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:output</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">indent</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">no</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">baseVersion</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="op" style="color: #b58900">'</span><span class="literal" start="1" style="color: #93a1a1">base</span><span class="op" style="color: #b58900">'</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">all-versions</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string+</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="44" select="quick" style="color: #cb4b16">deltaxml:selectVersion</span><span class="parenthesis" style="color: #268bd2">(</span><span class="step" start="24" style="color: #b58900">/</span><span class="qname" start="25" select="quick" style="color: #6c71c4">*</span><span class="step" start="26" style="color: #b58900">/</span><span class="axis" start="27" style="color: #2aa198">@</span><span class="qname" start="28" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="parenthesis" start="44" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:template</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">match</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="step" start="1" style="color: #b58900">/</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">mrg:merge</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">owner</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="op" style="color: #b58900">{</span><span class="qname" start="1" select="quick" style="color: #6c71c4">*</span><span class="step" start="2" style="color: #b58900">/</span><span class="axis" start="3" style="color: #2aa198">@</span><span class="qname" start="4" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="op" style="color: #b58900">}</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:for-each</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="qname" start="1" select="quick" style="color: #6c71c4">*</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="z" style="color: #586e75">&lt;!--</span><span class="cm" style="color: #859900">
        xsl:copy will copy all namespace nodes including deltaxml
        which is not required but does no harm
        </span><span class="z" style="color: #586e75">--&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:copy</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:apply-templates</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="axis" start="1" style="color: #2aa198">@</span><span class="qname" start="2" select="quick" style="color: #6c71c4">*</span><span class="whitespace" start="3" style="color: #b58900"> </span><span class="op" start="4" style="color: #b58900">except</span><span class="whitespace" start="10" style="color: #b58900"> </span><span class="axis" start="11" style="color: #2aa198">@</span><span class="qname" start="12" select="quick" style="color: #6c71c4">deltaxml:*</span><span class="op" start="22" style="color: #b58900">,</span><span class="whitespace" start="23" style="color: #b58900"> </span><span class="node" start="24" pair-end="29" select="quick" style="color: #268bd2">node</span><span class="parenthesis" style="color: #268bd2">(</span><span class="parenthesis" start="29" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:copy</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:for-each</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">mrg:merge</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:template</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:template</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">match</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="axis" start="1" style="color: #2aa198">@</span><span class="qname" start="2" select="quick" style="color: #6c71c4">*</span><span class="whitespace" start="3" style="color: #b58900"> </span><span class="op" start="4" style="color: #b58900">|</span><span class="whitespace" start="5" style="color: #b58900"> </span><span class="node" start="6" pair-end="11" select="quick" style="color: #268bd2">node</span><span class="parenthesis" style="color: #268bd2">(</span><span class="parenthesis" start="11" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:copy</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:apply-templates</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="axis" start="1" style="color: #2aa198">@</span><span class="qname" start="2" select="quick" style="color: #6c71c4">*</span><span class="op" start="3" style="color: #b58900">,</span><span class="whitespace" start="4" style="color: #b58900"> </span><span class="node" start="5" pair-end="10" select="quick" style="color: #268bd2">node</span><span class="parenthesis" style="color: #268bd2">(</span><span class="parenthesis" start="10" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:copy</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:template</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:template</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">match</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="qname" start="1" select="quick" style="color: #6c71c4">deltaxml:attributes</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">attributes</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:apply-templates</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:variable</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:if</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="19" select="quick" style="color: #cb4b16">exists</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="8" select="quick" style="color: #d33682">$attributes</span><span class="parenthesis" start="19" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">mrg:attributes</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$attributes</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">mrg:attributes</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:if</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:template</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:template</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">match</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="qname" start="1" select="quick" style="color: #6c71c4">deltaxml:attributeValue</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">mrg:attributeValue</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">owner</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="op" style="color: #b58900">{</span><span class="axis" start="1" style="color: #2aa198">@</span><span class="qname" start="2" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="op" style="color: #b58900">}</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="context" start="1" style="color: #2aa198">.</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">mrg:attributeValue</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:template</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:template</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">match</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="qname" start="1" select="quick" style="color: #6c71c4">deltaxml:text</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">mrg:textValue</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">owner</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="op" style="color: #b58900">{</span><span class="axis" start="1" style="color: #2aa198">@</span><span class="qname" start="2" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="op" style="color: #b58900">}</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="context" start="1" style="color: #2aa198">.</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">mrg:textValue</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:template</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:template</span><span class="z" style="color: #586e75">
      </span><span class="atn" style="color: #2aa198">match</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="qname" start="1" select="quick" style="color: #6c71c4">*</span><span class="step" start="2" style="color: #b58900">//</span><span class="qname" start="4" select="quick" style="color: #6c71c4">*</span><span class="filter" start="5" pair-end="39" select="quick" style="color: #268bd2">[</span><span class="function" start="6" pair-end="38" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="axis" start="10" style="color: #2aa198">ancestor-or-self::</span><span class="qname" start="28" select="quick" style="color: #6c71c4">deltaxml:*</span><span class="parenthesis" start="38" style="color: #268bd2">)</span><span class="filter" start="39" style="color: #268bd2">]</span><span class="filter" start="40" pair-end="58" select="quick" style="color: #268bd2">[</span><span class="axis" start="41" style="color: #2aa198">@</span><span class="qname" start="42" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="filter" start="58" style="color: #268bd2">]</span><span class="whitespace" start="59" style="color: #b58900"> </span><span class="op" start="60" style="color: #b58900">|</span><span class="whitespace" start="61" style="color: #b58900"> </span><span class="qname" start="62" select="quick" style="color: #6c71c4">deltaxml:textGroup</span><span class="whitespace" start="80" style="color: #b58900"> </span><span class="op" start="81" style="color: #b58900">|</span><span class="whitespace" start="82" style="color: #b58900"> </span><span class="qname" start="83" select="quick" style="color: #6c71c4">*</span><span class="filter" start="84" pair-end="112" select="quick" style="color: #268bd2">[</span><span class="axis" start="85" style="color: #2aa198">parent::</span><span class="qname" start="93" select="quick" style="color: #6c71c4">deltaxml:attributes</span><span class="filter" start="112" style="color: #268bd2">]</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">element-type</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="26" select="quick" style="color: #cb4b16">deltaxml:highlight-type</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="25" style="color: #2aa198">.</span><span class="parenthesis" start="26" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">mergeType</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="21" select="quick" style="color: #cb4b16">deltaxml:mergeType</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="20" style="color: #2aa198">.</span><span class="parenthesis" start="21" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:choose</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$element-type</span><span class="whitespace" start="14" style="color: #b58900"> </span><span class="op" start="15" style="color: #b58900">eq</span><span class="whitespace" start="17" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="18" style="color: #93a1a1">text</span><span class="op" style="color: #b58900">'</span><span class="whitespace" start="24" style="color: #b58900"> </span><span class="op" start="25" style="color: #b58900">and</span><span class="whitespace" start="28" style="color: #b58900"> </span><span class="variable" start="29" select="quick" style="color: #d33682">$mergeType</span><span class="whitespace" start="39" style="color: #b58900"> </span><span class="op" start="40" style="color: #b58900">=</span><span class="whitespace" start="41" style="color: #b58900"> </span><span class="parenthesis" start="42" pair-end="71" select="quick" style="color: #268bd2">(</span><span class="op" style="color: #b58900">'</span><span class="literal" start="43" style="color: #93a1a1">unchanged</span><span class="op" style="color: #b58900">'</span><span class="op" start="54" style="color: #b58900">,</span><span class="whitespace" start="55" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="56" style="color: #93a1a1">add</span><span class="op" style="color: #b58900">'</span><span class="op" start="61" style="color: #b58900">,</span><span class="whitespace" start="62" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="63" style="color: #93a1a1">delete</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="71" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:element</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">mrg:</span><span class="op" style="color: #b58900">{</span><span class="variable" start="1" select="quick" style="color: #d33682">$mergeType</span><span class="op" style="color: #b58900">}</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="29" select="quick" style="color: #cb4b16">deltaxml:owner</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="16" style="color: #2aa198">.</span><span class="op" start="17" style="color: #b58900">,</span><span class="whitespace" start="18" style="color: #b58900"> </span><span class="variable" start="19" select="quick" style="color: #d33682">$mergeType</span><span class="parenthesis" start="29" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="qname" start="1" select="quick" style="color: #6c71c4">deltaxml:text</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:element</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$element-type</span><span class="whitespace" start="14" style="color: #b58900"> </span><span class="op" start="15" style="color: #b58900">eq</span><span class="whitespace" start="17" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="18" style="color: #93a1a1">text</span><span class="op" style="color: #b58900">'</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:element</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">mrg:</span><span class="op" style="color: #b58900">{</span><span class="variable" start="1" select="quick" style="color: #d33682">$element-type</span><span class="op" style="color: #b58900">}</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:attribute</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">change-type</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$mergeType</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="29" select="quick" style="color: #cb4b16">deltaxml:owner</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="16" style="color: #2aa198">.</span><span class="op" start="17" style="color: #b58900">,</span><span class="whitespace" start="18" style="color: #b58900"> </span><span class="variable" start="19" select="quick" style="color: #d33682">$mergeType</span><span class="parenthesis" start="29" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:apply-templates</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="axis" start="1" style="color: #2aa198">@</span><span class="qname" start="2" select="quick" style="color: #6c71c4">*</span><span class="whitespace" start="3" style="color: #b58900"> </span><span class="op" start="4" style="color: #b58900">except</span><span class="whitespace" start="10" style="color: #b58900"> </span><span class="axis" start="11" style="color: #2aa198">@</span><span class="qname" start="12" select="quick" style="color: #6c71c4">deltaxml:*</span><span class="whitespace" start="22" style="color: #b58900"> </span><span class="op" start="23" style="color: #b58900">|</span><span class="whitespace" start="24" style="color: #b58900"> </span><span class="node" start="25" pair-end="30" select="quick" style="color: #268bd2">node</span><span class="parenthesis" style="color: #268bd2">(</span><span class="parenthesis" start="30" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:element</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$element-type</span><span class="whitespace" start="14" style="color: #b58900"> </span><span class="op" start="15" style="color: #b58900">eq</span><span class="whitespace" start="17" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="18" style="color: #93a1a1">attribute</span><span class="op" style="color: #b58900">'</span><span class="whitespace" start="29" style="color: #b58900"> </span><span class="op" start="30" style="color: #b58900">and</span><span class="whitespace" start="33" style="color: #b58900"> </span><span class="variable" start="34" select="quick" style="color: #d33682">$mergeType</span><span class="whitespace" start="44" style="color: #b58900"> </span><span class="op" start="45" style="color: #b58900">eq</span><span class="whitespace" start="47" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="48" style="color: #93a1a1">unchanged</span><span class="op" style="color: #b58900">'</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$element-type</span><span class="whitespace" start="14" style="color: #b58900"> </span><span class="op" start="15" style="color: #b58900">eq</span><span class="whitespace" start="17" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="18" style="color: #93a1a1">attribute</span><span class="op" style="color: #b58900">'</span><span class="whitespace" start="29" style="color: #b58900"> </span><span class="op" start="30" style="color: #b58900">and</span><span class="whitespace" start="33" style="color: #b58900"> </span><span class="variable" start="34" select="quick" style="color: #d33682">$mergeType</span><span class="whitespace" start="44" style="color: #b58900"> </span><span class="op" start="45" style="color: #b58900">=</span><span class="whitespace" start="46" style="color: #b58900"> </span><span class="parenthesis" start="47" pair-end="63" select="quick" style="color: #268bd2">(</span><span class="op" style="color: #b58900">'</span><span class="literal" start="48" style="color: #93a1a1">add</span><span class="op" style="color: #b58900">'</span><span class="op" start="53" style="color: #b58900">,</span><span class="whitespace" start="54" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="55" style="color: #93a1a1">delete</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="63" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:copy</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:attribute</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">change-type</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$mergeType</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="29" select="quick" style="color: #cb4b16">deltaxml:owner</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="16" style="color: #2aa198">.</span><span class="op" start="17" style="color: #b58900">,</span><span class="whitespace" start="18" style="color: #b58900"> </span><span class="variable" start="19" select="quick" style="color: #d33682">$mergeType</span><span class="parenthesis" start="29" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="axis" start="1" style="color: #2aa198">self::</span><span class="qname" start="7" select="quick" style="color: #6c71c4">*</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:copy</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$element-type</span><span class="whitespace" start="14" style="color: #b58900"> </span><span class="op" start="15" style="color: #b58900">eq</span><span class="whitespace" start="17" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="18" style="color: #93a1a1">attribute</span><span class="op" style="color: #b58900">'</span><span class="whitespace" start="29" style="color: #b58900"> </span><span class="op" start="30" style="color: #b58900">and</span><span class="whitespace" start="33" style="color: #b58900"> </span><span class="variable" start="34" select="quick" style="color: #d33682">$mergeType</span><span class="whitespace" start="44" style="color: #b58900"> </span><span class="op" start="45" style="color: #b58900">=</span><span class="whitespace" start="46" style="color: #b58900"> </span><span class="parenthesis" start="47" pair-end="59" select="quick" style="color: #268bd2">(</span><span class="op" style="color: #b58900">'</span><span class="literal" start="48" style="color: #93a1a1">competing</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="59" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:copy</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:attribute</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">change-type</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="op" style="color: #b58900">'</span><span class="literal" start="1" style="color: #93a1a1">competing</span><span class="op" style="color: #b58900">'</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:apply-templates</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:copy</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:otherwise</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:element</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">mrg:</span><span class="op" style="color: #b58900">{</span><span class="variable" start="1" select="quick" style="color: #d33682">$element-type</span><span class="op" style="color: #b58900">}</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:attribute</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">change-type</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$mergeType</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="29" select="quick" style="color: #cb4b16">deltaxml:owner</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="16" style="color: #2aa198">.</span><span class="op" start="17" style="color: #b58900">,</span><span class="whitespace" start="18" style="color: #b58900"> </span><span class="variable" start="19" select="quick" style="color: #d33682">$mergeType</span><span class="parenthesis" start="29" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:copy</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:apply-templates</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="axis" start="1" style="color: #2aa198">@</span><span class="qname" start="2" select="quick" style="color: #6c71c4">*</span><span class="whitespace" start="3" style="color: #b58900"> </span><span class="op" start="4" style="color: #b58900">except</span><span class="whitespace" start="10" style="color: #b58900"> </span><span class="axis" start="11" style="color: #2aa198">@</span><span class="qname" start="12" select="quick" style="color: #6c71c4">deltaxml:*</span><span class="whitespace" start="22" style="color: #b58900"> </span><span class="op" start="23" style="color: #b58900">|</span><span class="whitespace" start="24" style="color: #b58900"> </span><span class="node" start="25" pair-end="30" select="quick" style="color: #268bd2">node</span><span class="parenthesis" style="color: #268bd2">(</span><span class="parenthesis" start="30" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
          </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:copy</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:element</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:otherwise</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:choose</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:template</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:owner</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">attribute()?</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">currentElement</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">element()</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">mergeType</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">owner</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="whitespace" start="1" style="color: #b58900">
                                    </span><span class="if" start="32" style="color: #b58900">if</span><span class="whitespace" start="34" style="color: #b58900"> </span><span class="parenthesis" start="35" pair-end="58" select="quick" style="color: #268bd2">(</span><span class="variable" start="36" select="quick" style="color: #d33682">$mergeType</span><span class="whitespace" start="46" style="color: #b58900"> </span><span class="op" start="47" style="color: #b58900">eq</span><span class="whitespace" start="49" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="50" style="color: #93a1a1">delete</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="58" style="color: #268bd2">)</span><span class="whitespace" start="59" style="color: #b58900"> </span><span class="op" start="60" style="color: #b58900">then</span><span class="whitespace" start="64" style="color: #b58900">
                                          </span><span class="function" start="101" pair-end="143" select="quick" style="color: #cb4b16">deltaxml:owner-of-deletion</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="128" select="quick" style="color: #d33682">$currentElement</span><span class="parenthesis" start="143" style="color: #268bd2">)</span><span class="whitespace" start="144" style="color: #b58900">
                                    </span><span class="op" start="175" style="color: #b58900">else</span><span class="whitespace" start="179" style="color: #b58900"> </span><span class="if" start="180" style="color: #b58900">if</span><span class="whitespace" start="182" style="color: #b58900"> </span><span class="parenthesis" start="183" pair-end="220" select="quick" style="color: #268bd2">(</span><span class="variable" start="184" select="quick" style="color: #d33682">$mergeType</span><span class="whitespace" start="194" style="color: #b58900"> </span><span class="op" start="195" style="color: #b58900">=</span><span class="whitespace" start="196" style="color: #b58900"> </span><span class="parenthesis" start="197" pair-end="219" select="quick" style="color: #268bd2">(</span><span class="op" style="color: #b58900">'</span><span class="literal" start="198" style="color: #93a1a1">add</span><span class="op" style="color: #b58900">'</span><span class="op" start="203" style="color: #b58900">,</span><span class="whitespace" start="204" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="205" style="color: #93a1a1">compound-add</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="219" style="color: #268bd2">)</span><span class="parenthesis" start="220" style="color: #268bd2">)</span><span class="whitespace" start="221" style="color: #b58900"> </span><span class="op" start="222" style="color: #b58900">then</span><span class="whitespace" start="226" style="color: #b58900"> 
                                         </span><span class="parenthesis" start="263" pair-end="338" select="quick" style="color: #268bd2">(</span><span class="variable" start="264" select="quick" style="color: #d33682">$currentElement</span><span class="step" start="279" style="color: #b58900">/</span><span class="axis" start="280" style="color: #2aa198">@</span><span class="qname" start="281" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="op" start="297" style="color: #b58900">,</span><span class="whitespace" start="298" style="color: #b58900"> </span><span class="variable" start="299" select="quick" style="color: #d33682">$currentElement</span><span class="step" start="314" style="color: #b58900">/</span><span class="qname" start="315" select="quick" style="color: #6c71c4">*</span><span class="step" start="316" style="color: #b58900">/</span><span class="axis" start="317" style="color: #2aa198">@</span><span class="qname" start="318" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="op" start="334" style="color: #b58900">,</span><span class="whitespace" start="335" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="336" style="color: #93a1a1"></span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="338" style="color: #268bd2">)</span><span class="filter" start="339" pair-end="341" select="quick" style="color: #268bd2">[</span><span class="numeric" start="340" style="color: #2aa198">1</span><span class="filter" start="341" style="color: #268bd2">]</span><span class="whitespace" start="342" style="color: #b58900">
                                    </span><span class="op" start="373" style="color: #b58900">else</span><span class="whitespace" start="377" style="color: #b58900"> </span><span class="if" start="378" style="color: #b58900">if</span><span class="whitespace" start="380" style="color: #b58900"> </span><span class="parenthesis" start="381" pair-end="411" select="quick" style="color: #268bd2">(</span><span class="variable" start="382" select="quick" style="color: #d33682">$mergeType</span><span class="whitespace" start="392" style="color: #b58900"> </span><span class="op" start="393" style="color: #b58900">eq</span><span class="whitespace" start="395" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="396" style="color: #93a1a1">non-competing</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="411" style="color: #268bd2">)</span><span class="whitespace" start="412" style="color: #b58900"> </span><span class="op" start="413" style="color: #b58900">then</span><span class="whitespace" start="417" style="color: #b58900"> 
                                         </span><span class="parenthesis" start="454" pair-end="532" select="quick" style="color: #268bd2">(</span><span class="variable" start="455" select="quick" style="color: #d33682">$currentElement</span><span class="step" start="470" style="color: #b58900">/</span><span class="qname" start="471" select="quick" style="color: #6c71c4">*</span><span class="step" start="472" style="color: #b58900">/</span><span class="axis" start="473" style="color: #2aa198">@</span><span class="qname" start="474" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="filter" start="490" pair-end="527" select="quick" style="color: #268bd2">[</span><span class="function" start="491" pair-end="526" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="function" start="495" pair-end="510" select="quick" style="color: #cb4b16">tokenize</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="504" style="color: #2aa198">.</span><span class="op" start="505" style="color: #b58900">,</span><span class="whitespace" start="506" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="507" style="color: #93a1a1">=</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="510" style="color: #268bd2">)</span><span class="whitespace" start="511" style="color: #b58900"> </span><span class="op" start="512" style="color: #b58900">=</span><span class="whitespace" start="513" style="color: #b58900"> </span><span class="variable" start="514" select="quick" style="color: #d33682">$baseVersion</span><span class="parenthesis" start="526" style="color: #268bd2">)</span><span class="filter" start="527" style="color: #268bd2">]</span><span class="op" start="528" style="color: #b58900">,</span><span class="whitespace" start="529" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="530" style="color: #93a1a1"></span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="532" style="color: #268bd2">)</span><span class="filter" start="533" pair-end="535" select="quick" style="color: #268bd2">[</span><span class="numeric" start="534" style="color: #2aa198">1</span><span class="filter" start="535" style="color: #268bd2">]</span><span class="whitespace" start="536" style="color: #b58900">
                                    </span><span class="op" start="567" style="color: #b58900">else</span><span class="whitespace" start="571" style="color: #b58900"> </span><span class="if" start="572" style="color: #b58900">if</span><span class="whitespace" start="574" style="color: #b58900"> </span><span class="parenthesis" start="575" pair-end="600" select="quick" style="color: #268bd2">(</span><span class="variable" start="576" select="quick" style="color: #d33682">$mergeType</span><span class="whitespace" start="586" style="color: #b58900"> </span><span class="op" start="587" style="color: #b58900">eq</span><span class="whitespace" start="589" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="590" style="color: #93a1a1">compound</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="600" style="color: #268bd2">)</span><span class="whitespace" start="601" style="color: #b58900"> </span><span class="op" start="602" style="color: #b58900">then</span><span class="whitespace" start="606" style="color: #b58900"> 
                                           </span><span class="parenthesis" start="645" pair-end="723" select="quick" style="color: #268bd2">(</span><span class="variable" start="646" select="quick" style="color: #d33682">$currentElement</span><span class="step" start="661" style="color: #b58900">/</span><span class="qname" start="662" select="quick" style="color: #6c71c4">*</span><span class="step" start="663" style="color: #b58900">/</span><span class="axis" start="664" style="color: #2aa198">@</span><span class="qname" start="665" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="filter" start="681" pair-end="718" select="quick" style="color: #268bd2">[</span><span class="function" start="682" pair-end="717" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="function" start="686" pair-end="701" select="quick" style="color: #cb4b16">tokenize</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="695" style="color: #2aa198">.</span><span class="op" start="696" style="color: #b58900">,</span><span class="whitespace" start="697" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="698" style="color: #93a1a1">=</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="701" style="color: #268bd2">)</span><span class="whitespace" start="702" style="color: #b58900"> </span><span class="op" start="703" style="color: #b58900">=</span><span class="whitespace" start="704" style="color: #b58900"> </span><span class="variable" start="705" select="quick" style="color: #d33682">$baseVersion</span><span class="parenthesis" start="717" style="color: #268bd2">)</span><span class="filter" start="718" style="color: #268bd2">]</span><span class="op" start="719" style="color: #b58900">,</span><span class="whitespace" start="720" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="721" style="color: #93a1a1"></span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="723" style="color: #268bd2">)</span><span class="filter" start="724" pair-end="726" select="quick" style="color: #268bd2">[</span><span class="numeric" start="725" style="color: #2aa198">1</span><span class="filter" start="726" style="color: #268bd2">]</span><span class="whitespace" start="727" style="color: #b58900">
                                    </span><span class="op" start="758" style="color: #b58900">else</span><span class="whitespace" start="762" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="763" style="color: #93a1a1"></span><span class="op" style="color: #b58900">'</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:if</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$owner</span><span class="whitespace" start="7" style="color: #b58900"> </span><span class="op" start="8" style="color: #b58900">ne</span><span class="whitespace" start="10" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="11" style="color: #93a1a1"></span><span class="op" style="color: #b58900">'</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:attribute</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">owner</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$owner</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:if</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:highlight-type</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">input</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">element()</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">qname</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:QName</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="17" select="quick" style="color: #cb4b16">node-name</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="11" select="quick" style="color: #d33682">$input</span><span class="parenthesis" start="17" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">prefix</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string?</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="25" select="quick" style="color: #cb4b16">prefix-from-QName</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="19" select="quick" style="color: #d33682">$qname</span><span class="parenthesis" start="25" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75">
        </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="if" start="1" style="color: #b58900">if</span><span class="whitespace" start="3" style="color: #b58900"> </span><span class="parenthesis" start="4" pair-end="40" select="quick" style="color: #268bd2">(</span><span class="variable" start="5" select="quick" style="color: #d33682">$input</span><span class="filter" start="11" pair-end="39" select="quick" style="color: #268bd2">[</span><span class="axis" start="12" style="color: #2aa198">parent::</span><span class="qname" start="20" select="quick" style="color: #6c71c4">deltaxml:attributes</span><span class="filter" start="39" style="color: #268bd2">]</span><span class="parenthesis" start="40" style="color: #268bd2">)</span><span class="whitespace" start="41" style="color: #b58900"> </span><span class="op" start="42" style="color: #b58900">then</span><span class="whitespace" start="46" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="47" style="color: #93a1a1">attribute</span><span class="op" style="color: #b58900">'</span><span class="whitespace" start="58" style="color: #b58900">
                            </span><span class="op" start="91" style="color: #b58900">else</span><span class="whitespace" start="95" style="color: #b58900"> </span><span class="if" start="96" style="color: #b58900">if</span><span class="whitespace" start="98" style="color: #b58900"> </span><span class="parenthesis" start="99" pair-end="121" select="quick" style="color: #268bd2">(</span><span class="variable" start="100" select="quick" style="color: #d33682">$prefix</span><span class="whitespace" start="107" style="color: #b58900"> </span><span class="op" start="108" style="color: #b58900">eq</span><span class="whitespace" start="110" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="111" style="color: #93a1a1">deltaxml</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="121" style="color: #268bd2">)</span><span class="whitespace" start="122" style="color: #b58900"> </span><span class="op" start="123" style="color: #b58900">then</span><span class="whitespace" start="127" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="128" style="color: #93a1a1">text</span><span class="op" style="color: #b58900">'</span><span class="whitespace" start="134" style="color: #b58900">
                            </span><span class="op" start="167" style="color: #b58900">else</span><span class="whitespace" start="171" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="172" style="color: #93a1a1">element</span><span class="op" style="color: #b58900">'</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:owner-of-deletion</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string*</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">group</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">element()</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">parentVersions</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string+</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="58" select="quick" style="color: #cb4b16">deltaxml:selectVersion</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="24" select="quick" style="color: #d33682">$group</span><span class="step" start="30" style="color: #b58900">/</span><span class="axis" start="31" style="color: #2aa198">parent::</span><span class="qname" start="39" select="quick" style="color: #6c71c4">*</span><span class="step" start="40" style="color: #b58900">/</span><span class="axis" start="41" style="color: #2aa198">@</span><span class="qname" start="42" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="parenthesis" start="58" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">childVersions</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string+</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="48" select="quick" style="color: #cb4b16">deltaxml:selectVersion</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="24" select="quick" style="color: #d33682">$group</span><span class="step" start="30" style="color: #b58900">/</span><span class="axis" start="31" style="color: #2aa198">@</span><span class="qname" start="32" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="parenthesis" start="48" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75">
        </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="71" select="quick" style="color: #cb4b16">string-join</span><span class="parenthesis" style="color: #268bd2">(</span><span class="function" start="13" pair-end="66" select="quick" style="color: #cb4b16">deltaxml:value-except</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="35" select="quick" style="color: #d33682">$parentVersions</span><span class="op" start="50" style="color: #b58900">,</span><span class="whitespace" start="51" style="color: #b58900"> </span><span class="variable" start="52" select="quick" style="color: #d33682">$childVersions</span><span class="parenthesis" start="66" style="color: #268bd2">)</span><span class="op" start="67" style="color: #b58900">,</span><span class="op" style="color: #b58900">'</span><span class="literal" start="68" style="color: #93a1a1">=</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="71" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:value-except</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:anyAtomicType*</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">arg1</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:anyAtomicType*</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">arg2</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:anyAtomicType*</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="36" select="quick" style="color: #cb4b16">distinct-values</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="17" select="quick" style="color: #d33682">$arg1</span><span class="filter" start="22" pair-end="35" select="quick" style="color: #268bd2">[</span><span class="function" start="23" pair-end="34" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="27" style="color: #2aa198">.</span><span class="op" start="28" style="color: #b58900">=</span><span class="variable" start="29" select="quick" style="color: #d33682">$arg2</span><span class="parenthesis" start="34" style="color: #268bd2">)</span><span class="filter" start="35" style="color: #268bd2">]</span><span class="parenthesis" start="36" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:selectVersion</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string+</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">deltaV2</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="26" select="quick" style="color: #cb4b16">tokenize</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="10" select="quick" style="color: #d33682">$deltaV2</span><span class="op" start="18" style="color: #b58900">,</span><span class="whitespace" start="19" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="20" style="color: #93a1a1">!=|=</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="26" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:extractParentVersions</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string+</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">currentElement</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">node()</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75">
        </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="144" select="quick" style="color: #cb4b16">deltaxml:selectVersion</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="24" select="quick" style="color: #d33682">$currentElement</span><span class="step" start="39" style="color: #b58900">/</span><span class="axis" start="40" style="color: #2aa198">ancestor::</span><span class="qname" start="50" select="quick" style="color: #6c71c4">*</span><span class="filter" start="51" pair-end="69" select="quick" style="color: #268bd2">[</span><span class="axis" start="52" style="color: #2aa198">@</span><span class="qname" start="53" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="filter" start="69" style="color: #268bd2">]</span><span class="whitespace" start="70" style="color: #b58900">
                </span><span class="filter" start="91" pair-end="122" select="quick" style="color: #268bd2">[</span><span class="function" start="92" pair-end="121" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="axis" start="96" style="color: #2aa198">self::</span><span class="qname" start="102" select="quick" style="color: #6c71c4">deltaxml:attributes</span><span class="parenthesis" start="121" style="color: #268bd2">)</span><span class="filter" start="122" style="color: #268bd2">]</span><span class="filter" start="123" pair-end="125" select="quick" style="color: #268bd2">[</span><span class="numeric" start="124" style="color: #2aa198">1</span><span class="filter" start="125" style="color: #268bd2">]</span><span class="step" start="126" style="color: #b58900">/</span><span class="axis" start="127" style="color: #2aa198">@</span><span class="qname" start="128" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="parenthesis" start="144" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:isBaseVersion</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:boolean</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">currentElement</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">node()</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">selfVersions</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string+</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="57" select="quick" style="color: #cb4b16">deltaxml:selectVersion</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="24" select="quick" style="color: #d33682">$currentElement</span><span class="step" start="39" style="color: #b58900">/</span><span class="axis" start="40" style="color: #2aa198">@</span><span class="qname" start="41" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="parenthesis" start="57" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$selfVersions</span><span class="whitespace" start="14" style="color: #b58900"> </span><span class="op" start="15" style="color: #b58900">=</span><span class="whitespace" start="16" style="color: #b58900"> </span><span class="variable" start="17" select="quick" style="color: #d33682">$baseVersion</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:variants-in-item</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string*</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">item</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">element()</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="39" select="quick" style="color: #cb4b16">tokenize</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="10" select="quick" style="color: #d33682">$item</span><span class="step" start="15" style="color: #b58900">/</span><span class="axis" start="16" style="color: #2aa198">@</span><span class="qname" start="17" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="op" start="33" style="color: #b58900">,</span><span class="whitespace" start="34" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="35" style="color: #93a1a1">!=</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="39" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="z" style="color: #586e75">&lt;!--</span><span class="cm" style="color: #859900"> uses deltaV2 of currentElement and parentElement to descide on change type of currentElement </span><span class="z" style="color: #586e75">--&gt;</span><span class="txt" style="color: #839496">
  </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f">deltaxml:mergeType</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">currentElement</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">node()</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">variant-count</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:integer</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="49" select="quick" style="color: #cb4b16">count</span><span class="parenthesis" style="color: #268bd2">(</span><span class="function" start="7" pair-end="48" select="quick" style="color: #cb4b16">deltaxml:variants-in-item</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="33" select="quick" style="color: #d33682">$currentElement</span><span class="parenthesis" start="48" style="color: #268bd2">)</span><span class="parenthesis" start="49" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">childVersions</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string+</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="57" select="quick" style="color: #cb4b16">deltaxml:selectVersion</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="24" select="quick" style="color: #d33682">$currentElement</span><span class="step" start="39" style="color: #b58900">/</span><span class="axis" start="40" style="color: #2aa198">@</span><span class="qname" start="41" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="parenthesis" start="57" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">parentVersions</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:string+</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="47" select="quick" style="color: #cb4b16">deltaxml:extractParentVersions</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="32" select="quick" style="color: #d33682">$currentElement</span><span class="parenthesis" start="47" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">parent-count</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:integer</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="22" select="quick" style="color: #cb4b16">count</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="7" select="quick" style="color: #d33682">$parentVersions</span><span class="parenthesis" start="22" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">child-count</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:integer</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="21" select="quick" style="color: #cb4b16">count</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="7" select="quick" style="color: #d33682">$childVersions</span><span class="parenthesis" start="21" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">isSubset</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:boolean</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$parent-count</span><span class="whitespace" start="14" style="color: #b58900"> </span><span class="op" start="15" style="color: #b58900">gt</span><span class="whitespace" start="17" style="color: #b58900"> </span><span class="variable" start="18" select="quick" style="color: #d33682">$child-count</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">excludesBase</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:boolean</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="34" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="5" select="quick" style="color: #d33682">$childVersions</span><span class="whitespace" start="19" style="color: #b58900"> </span><span class="op" start="20" style="color: #b58900">=</span><span class="whitespace" start="21" style="color: #b58900"> </span><span class="variable" start="22" select="quick" style="color: #d33682">$baseVersion</span><span class="parenthesis" start="34" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">isCompoundChange</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:boolean</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> 
                  </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="35" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="5" select="quick" style="color: #d33682">$parentVersions</span><span class="whitespace" start="20" style="color: #b58900"> </span><span class="op" start="21" style="color: #b58900">=</span><span class="whitespace" start="22" style="color: #b58900"> </span><span class="variable" start="23" select="quick" style="color: #d33682">$baseVersion</span><span class="parenthesis" start="35" style="color: #268bd2">)</span><span class="whitespace" start="36" style="color: #b58900"> </span><span class="op" start="37" style="color: #b58900">and</span><span class="whitespace" start="40" style="color: #b58900"> </span><span class="function" start="41" pair-end="88" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="function" start="45" pair-end="87" select="quick" style="color: #cb4b16">deep-equal</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="56" select="quick" style="color: #d33682">$parentVersions</span><span class="op" start="71" style="color: #b58900">,</span><span class="whitespace" start="72" style="color: #b58900"> </span><span class="variable" start="73" select="quick" style="color: #d33682">$childVersions</span><span class="parenthesis" start="87" style="color: #268bd2">)</span><span class="parenthesis" start="88" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">change-type</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">grandChildDiff</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:boolean</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                    </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="function" start="1" pair-end="49" select="quick" style="color: #cb4b16">contains</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="10" select="quick" style="color: #d33682">$currentElement</span><span class="step" start="25" style="color: #b58900">/</span><span class="axis" start="26" style="color: #2aa198">@</span><span class="qname" start="27" select="quick" style="color: #6c71c4">deltaxml:deltaV2</span><span class="op" start="43" style="color: #b58900">,</span><span class="whitespace" start="44" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="45" style="color: #93a1a1">!=</span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="49" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682">childVersionsEqualParent</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">xs:boolean</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                    </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$child-count</span><span class="whitespace" start="13" style="color: #b58900"> </span><span class="op" start="14" style="color: #b58900">eq</span><span class="whitespace" start="16" style="color: #b58900"> </span><span class="variable" start="17" select="quick" style="color: #d33682">$parent-count</span><span class="whitespace" start="30" style="color: #b58900">
                            </span><span class="op" start="67" style="color: #b58900">and</span><span class="whitespace" start="70" style="color: #b58900"> </span><span class="parenthesis" start="71" pair-end="129" select="quick" style="color: #268bd2">(</span><span class="higher" start="72" style="color: #b58900">every</span><span class="whitespace" start="77" style="color: #b58900"> </span><span id="rng-$c" class="variable" start="78" select="quick" style="color: #d33682">$c</span><span class="whitespace" start="80" style="color: #b58900"> </span><span class="op" start="81" style="color: #b58900">in</span><span class="whitespace" start="83" style="color: #b58900"> </span><span class="variable" start="84" select="quick" style="color: #d33682">$childVersions</span><span class="whitespace" start="98" style="color: #b58900"> </span><span class="op" start="99" style="color: #b58900">satisfies</span><span class="whitespace" start="108" style="color: #b58900"> </span><span class="variable" start="109" select="quick" style="color: #d33682">$c</span><span class="whitespace" start="111" style="color: #b58900"> </span><span class="op" start="112" style="color: #b58900">=</span><span class="whitespace" start="113" style="color: #b58900"> </span><span class="variable" start="114" select="quick" style="color: #d33682">$parentVersions</span><span class="parenthesis" start="129" style="color: #268bd2">)</span><span class="whitespace" start="130" style="color: #b58900">
                            </span><span class="op" start="167" style="color: #b58900">and</span><span class="whitespace" start="170" style="color: #b58900"> </span><span class="function" start="171" pair-end="190" select="quick" style="color: #cb4b16">not</span><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="175" select="quick" style="color: #d33682">$grandChildDiff</span><span class="parenthesis" start="190" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
      </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:choose</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$childVersionsEqualParent</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">unchanged</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$parentVersions</span><span class="whitespace" start="16" style="color: #b58900"> </span><span class="op" start="17" style="color: #b58900">=</span><span class="whitespace" start="18" style="color: #b58900"> </span><span class="variable" start="19" select="quick" style="color: #d33682">$baseVersion</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="z" style="color: #586e75">&lt;!--</span><span class="cm" style="color: #859900"> change is a delta on the base-version </span><span class="z" style="color: #586e75">--&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:choose</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$variant-count</span><span class="whitespace" start="15" style="color: #b58900"> </span><span class="op" start="16" style="color: #b58900">gt</span><span class="whitespace" start="18" style="color: #b58900"> </span><span class="numeric" start="19" style="color: #2aa198">2</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">competing</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$grandChildDiff</span><span class="whitespace" start="16" style="color: #b58900"> </span><span class="op" start="17" style="color: #b58900">and</span><span class="whitespace" start="20" style="color: #b58900"> </span><span class="variable" start="21" select="quick" style="color: #d33682">$excludesBase</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">complex-add</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$grandChildDiff</span><span class="whitespace" start="16" style="color: #b58900"> </span><span class="op" start="17" style="color: #b58900">and</span><span class="whitespace" start="20" style="color: #b58900"> </span><span class="variable" start="21" select="quick" style="color: #d33682">$isSubset</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">complex-delete</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$excludesBase</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">add</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$isSubset</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">delete</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$variant-count</span><span class="whitespace" start="15" style="color: #b58900"> </span><span class="op" start="16" style="color: #b58900">eq</span><span class="whitespace" start="18" style="color: #b58900"> </span><span class="numeric" start="19" style="color: #2aa198">2</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">non-competing</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="z" style="color: #586e75">&lt;!--</span><span class="cm" style="color: #859900"> should not happen </span><span class="z" style="color: #586e75">--&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:otherwise</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">unknown</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:otherwise</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:choose</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">                    
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:otherwise</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="z" style="color: #586e75">&lt;!--</span><span class="cm" style="color: #859900"> change is a delta on a version other than the base-version </span><span class="z" style="color: #586e75">--&gt;</span><span class="txt" style="color: #839496">
          </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:choose</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$variant-count</span><span class="whitespace" start="15" style="color: #b58900"> </span><span class="op" start="16" style="color: #b58900">gt</span><span class="whitespace" start="18" style="color: #b58900"> </span><span class="numeric" start="19" style="color: #2aa198">1</span><span class="whitespace" start="20" style="color: #b58900"> </span><span class="op" start="21" style="color: #b58900">and</span><span class="whitespace" start="24" style="color: #b58900"> </span><span class="variable" start="25" select="quick" style="color: #d33682">$excludesBase</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">competing-compound-add</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$excludesBase</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">compound-add</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="z" style="color: #586e75">&lt;!--</span><span class="cm" style="color: #859900"> should not happen </span><span class="z" style="color: #586e75">--&gt;</span><span class="txt" style="color: #839496">
            </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:otherwise</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
              </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">compound</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
            </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:otherwise</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">                          
          </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:choose</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">                    
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:otherwise</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:choose</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:variable</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    
    </span><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$change-type</span><span class="z" style="color: #586e75">"</span><span class="sc" style="color: #586e75">/&gt;</span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:stylesheet</span><span class="ec" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
</span></pre></div></body></html>