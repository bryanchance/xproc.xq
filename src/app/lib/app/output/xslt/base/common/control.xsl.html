<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>control.xsl</title></head><body><div><pre class="spectrum" style="&#xA;    margin:0px;&#xA;    font-family:monospace;&#xA;    &#xA;    white-space: pre-wrap;&#xA;    display: block;&#xA;    border: none thin;&#xA;    border-color: #405075;&#xA;    background-color:#002b36;&#xA;    padding: 2px;&#xA;    margin-bottom:5px;&#xA;"><span class="z" style="color: #586e75">&lt;?</span><span class="pi" style="color: #2aa198">xml version="1.0" encoding="utf-8"</span><span class="z" style="color: #586e75">?&gt;</span><span class="txt" style="color: #839496">
</span><span class="ww" id="w5"><span class="es" style="color: #586e75">&lt;</span><a class="solar" href="../../../index.html"><span class="enxsl" style="color: #268bd2" id="e?{http://www.w3.org/1999/XSL/Transform}stylesheet">xsl:stylesheet</span></a><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">xmlns:xsl</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://www.w3.org/1999/XSL/Transform</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:db</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://docbook.org/ns/docbook</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:doc</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://nwalsh.com/xsl/documentation/1.0</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:f</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://docbook.org/xslt/ns/extension</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:m</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://docbook.org/xslt/ns/mode</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:mp</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://docbook.org/xslt/ns/mode/private</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:t</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://docbook.org/xslt/ns/template</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">xmlns:xs</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://www.w3.org/2001/XMLSchema</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">exclude-result-prefixes</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">db doc f m mp t xs</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75">
                </span><span class="atn" style="color: #2aa198">version</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">2.0</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="ww" id="w69"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:key</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">id</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">match</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="qname" start="1" select="quick" style="color: #6c71c4">*</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">use</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">@xml:id</span><span class="z" style="color: #586e75">"</span><span id="wx89" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
  </span><span class="ww" id="w91"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:key</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">genid</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">match</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="qname" start="1" select="quick" style="color: #6c71c4">*</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">use</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">generate-id(.)</span><span class="z" style="color: #586e75">"</span><span id="wx111" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
  
  </span><span class="ww" id="w113"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f" id="f?{http://docbook.org/xslt/ns/extension}root-element">f:root-element</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">element()</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ww" id="w129"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682" id="v?document">document</span><span class="z" style="color: #586e75">"</span><span id="wx137" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ww" id="w139"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682" id="v?rootid">rootid</span><span class="z" style="color: #586e75">"</span><span id="wx147" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w149"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:if</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="../../../xslt/base/html/param.xsl.html#v?rootid" class="solar" style="text-decoration:none"><span class="variable" start="1" select="quick" style="color: #d33682">$rootid</span></a><span class="whitespace" start="8" style="color: #b58900"> </span><span class="op" start="9" style="color: #b58900">!=</span><span class="whitespace" start="11" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="12" style="color: #93a1a1"></span><span class="op" style="color: #b58900">'</span><span class="whitespace" start="14" style="color: #b58900"> </span><span class="op" start="15" style="color: #b58900">and</span><span class="whitespace" start="18" style="color: #b58900"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar" style="text-decoration:none"><span class="function" start="19" pair-end="52" select="quick" style="color: #cb4b16">not</span></a><span class="parenthesis" style="color: #268bd2">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar" style="text-decoration:none"><span class="function" start="23" pair-end="51" select="quick" style="color: #cb4b16">key</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="op" style="color: #b58900">'</span><span class="literal" start="27" style="color: #93a1a1">id</span><span class="op" style="color: #b58900">'</span><span class="op" start="31" style="color: #b58900">,</span><span class="whitespace" start="32" style="color: #b58900"> </span><a href="../../../xslt/base/html/param.xsl.html#v?rootid" class="solar" style="text-decoration:none"><span class="variable" start="33" select="quick" style="color: #d33682">$rootid</span></a><span class="op" start="40" style="color: #b58900">,</span><span class="whitespace" start="41" style="color: #b58900"> </span><span class="variable" start="42" select="quick" style="color: #d33682">$document</span><span class="parenthesis" start="51" style="color: #268bd2">)</span><span class="parenthesis" start="52" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w183"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:message</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">terminate</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">yes</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ww" id="w193"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">ID '</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span id="wx199" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
        </span><span class="ww" id="w201"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="../../../xslt/base/html/param.xsl.html#v?rootid" class="solar" style="text-decoration:none"><span class="variable" start="1" select="quick" style="color: #d33682">$rootid</span></a><span class="z" style="color: #586e75">"</span><span id="wx209" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
        </span><span class="ww" id="w211"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">' not found in document.</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span id="wx217" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:message</span><span id="wx221" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:if</span><span id="wx225" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w227"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682" id="v?root">root</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">element()</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w243"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:choose</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ww" id="w247"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:when</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="../../../xslt/base/html/param.xsl.html#v?rootid" class="solar" style="text-decoration:none"><span class="variable" start="1" select="quick" style="color: #d33682">$rootid</span></a><span class="whitespace" start="8" style="color: #b58900"> </span><span class="op" start="9" style="color: #b58900">!=</span><span class="whitespace" start="11" style="color: #b58900"> </span><span class="op" style="color: #b58900">'</span><span class="literal" start="12" style="color: #93a1a1"></span><span class="op" style="color: #b58900">'</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="ww" id="w263"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar" style="text-decoration:none"><span class="function" start="1" pair-end="29" select="quick" style="color: #cb4b16">key</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="op" style="color: #b58900">'</span><span class="literal" start="5" style="color: #93a1a1">id</span><span class="op" style="color: #b58900">'</span><span class="op" start="9" style="color: #b58900">,</span><span class="whitespace" start="10" style="color: #b58900"> </span><a href="../../../xslt/base/html/param.xsl.html#v?rootid" class="solar" style="text-decoration:none"><span class="variable" start="11" select="quick" style="color: #d33682">$rootid</span></a><span class="op" start="18" style="color: #b58900">,</span><span class="whitespace" start="19" style="color: #b58900"> </span><span class="variable" start="20" select="quick" style="color: #d33682">$document</span><span class="parenthesis" start="29" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span id="wx282" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:when</span><span id="wx286" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
        </span><span class="ww" id="w288"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:otherwise</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
          </span><span class="ww" id="w292"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$document</span><span class="step" start="10" style="color: #b58900">/</span><span class="qname" start="11" select="quick" style="color: #6c71c4">*</span><span class="filter" start="12" pair-end="14" select="quick" style="color: #268bd2">[</span><span class="numeric" start="13" style="color: #2aa198">1</span><span class="filter" start="14" style="color: #268bd2">]</span><span class="z" style="color: #586e75">"</span><span id="wx305" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
        </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:otherwise</span><span id="wx309" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:choose</span><span id="wx313" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:variable</span><span id="wx317" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w319"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$root</span><span class="z" style="color: #586e75">"</span><span id="wx327" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span id="wx331" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
  
  </span><span class="ww" id="w333"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f" id="f?{http://docbook.org/xslt/ns/extension}docbook-root-element">f:docbook-root-element</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">element()</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ww" id="w349"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682" id="v?document">document</span><span class="z" style="color: #586e75">"</span><span id="wx357" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ww" id="w359"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682" id="v?rootid">rootid</span><span class="z" style="color: #586e75">"</span><span id="wx367" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w369"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:variable</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682" id="v?root">root</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="../../../xslt/base/common/control.xsl.html#f?{http://docbook.org/xslt/ns/extension}root-element" class="solar" style="text-decoration:none"><span class="function" start="1" pair-end="33" select="quick" style="color: #cb4b16">f:root-element</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="16" select="quick" style="color: #d33682">$document</span><span class="op" start="25" style="color: #b58900">,</span><a href="../../../xslt/base/html/param.xsl.html#v?rootid" class="solar" style="text-decoration:none"><span class="variable" start="26" select="quick" style="color: #d33682">$rootid</span></a><span class="parenthesis" start="33" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span id="wx388" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w390"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:if</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar" style="text-decoration:none"><span class="function" start="1" pair-end="54" select="quick" style="color: #cb4b16">not</span></a><span class="parenthesis" style="color: #268bd2">(</span><a href="../../../xslt/base/html/param.xsl.html#v?root.elements" class="solar" style="text-decoration:none"><span class="variable" start="5" select="quick" style="color: #d33682">$root.elements</span></a><span class="step" start="19" style="color: #b58900">/</span><span class="qname" start="20" select="quick" style="color: #6c71c4">*</span><span class="filter" start="21" pair-end="53" select="quick" style="color: #268bd2">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar" style="text-decoration:none"><span class="function" start="22" pair-end="33" select="quick" style="color: #cb4b16">node-name</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="context" start="32" style="color: #2aa198">.</span><span class="parenthesis" start="33" style="color: #268bd2">)</span><span class="whitespace" start="34" style="color: #b58900"> </span><span class="op" start="35" style="color: #b58900">=</span><span class="whitespace" start="36" style="color: #b58900"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar" style="text-decoration:none"><span class="function" start="37" pair-end="52" select="quick" style="color: #cb4b16">node-name</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="47" select="quick" style="color: #d33682">$root</span><span class="parenthesis" start="52" style="color: #268bd2">)</span><span class="filter" start="53" style="color: #268bd2">]</span><span class="parenthesis" start="54" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w418"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:call-template</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="../../../xslt/base/common/control.xsl.html#t?{http://docbook.org/xslt/ns/template}root-terminate" class="solar" style="text-decoration:none"><span class="tcall" style="color: #6c71c4">t:root-terminate</span></a><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ww" id="w428"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:with-param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">root</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$document</span><span class="z" style="color: #586e75">"</span><span id="wx442" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:call-template</span><span id="wx446" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:if</span><span id="wx450" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w452"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="variable" start="1" select="quick" style="color: #d33682">$root</span><span class="z" style="color: #586e75">"</span><span id="wx460" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span id="wx464" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
  
  </span><span class="ww" id="w466"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:function</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="fname" style="color: #dc322f" id="f?{http://docbook.org/xslt/ns/extension}docbook-root-element">f:docbook-root-element</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">as</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">element()</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ww" id="w482"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682" id="v?document">document</span><span class="z" style="color: #586e75">"</span><span id="wx490" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ww" id="w492"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:sequence</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="../../../xslt/base/common/control.xsl.html#f?{http://docbook.org/xslt/ns/extension}docbook-root-element" class="solar" style="text-decoration:none"><span class="function" start="1" pair-end="36" select="quick" style="color: #cb4b16">f:docbook-root-element</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="24" select="quick" style="color: #d33682">$document</span><span class="op" start="33" style="color: #b58900">,</span><span class="op" style="color: #b58900">'</span><span class="literal" start="34" style="color: #93a1a1"></span><span class="op" style="color: #b58900">'</span><span class="parenthesis" start="36" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span id="wx507" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:function</span><span id="wx511" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
  
  </span><span class="z" style="color: #586e75">&lt;!--</span><span class="cm" style="color: #859900"> ============================================================ </span><span class="z" style="color: #586e75">--&gt;</span><span class="txt" style="color: #839496">
  
  </span><span class="ww" id="w517"><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">doc:template</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">t:root-terminate</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">xmlns</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">http://docbook.org/ns/docbook</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ww" id="w533"><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">refpurpose</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">Aborts processing if the root element is inappropriate</span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">refpurpose</span><span id="wx539" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w541"><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">refdescription</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w545"><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">para</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">This template is called if the stylesheet detects that the root
        element (or the element selected for processing with
        </span><span class="ww" id="w549"><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">parameter</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">rootid</span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">parameter</span><span id="wx555" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">) is not an appropriate root element.
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">para</span><span id="wx559" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">refdescription</span><span id="wx563" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w565"><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">refreturn</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w569"><span class="es" style="color: #586e75">&lt;</span><span class="en" style="color: #6c71c4">para</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">Does not return.</span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">para</span><span id="wx575" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">refreturn</span><span id="wx579" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="cl" style="color: #6c71c4">doc:template</span><span id="wx583" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
  
  </span><span class="ww" id="w585"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:template</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="tname" style="color: #dc322f" id="t?{http://docbook.org/xslt/ns/template}root-terminate">t:root-terminate</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
    </span><span class="ww" id="w595"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:param</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">name</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="vname" style="color: #d33682" id="v?root">root</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="step" start="1" style="color: #b58900">/</span><span class="z" style="color: #586e75">"</span><span id="wx609" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
    
    </span><span class="ww" id="w611"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:message</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">terminate</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">yes</span><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w621"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">Error: document root element (</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span id="wx627" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w629"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar" style="text-decoration:none"><span class="function" start="1" pair-end="16" select="quick" style="color: #cb4b16">name</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="6" select="quick" style="color: #d33682">$root</span><span class="step" start="11" style="color: #b58900">/</span><span class="qname" start="12" select="quick" style="color: #6c71c4">*</span><span class="filter" start="13" pair-end="15" select="quick" style="color: #268bd2">[</span><span class="numeric" start="14" style="color: #2aa198">1</span><span class="filter" start="15" style="color: #268bd2">]</span><span class="parenthesis" start="16" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span id="wx645" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w647"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:if</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">test</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="../../../xslt/base/html/param.xsl.html#v?rootid" class="solar" style="text-decoration:none"><span class="variable" start="1" select="quick" style="color: #d33682">$rootid</span></a><span class="z" style="color: #586e75">"</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">
        </span><span class="ww" id="w657"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">, $rootid=</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span id="wx663" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
        </span><span class="ww" id="w665"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="../../../xslt/base/html/param.xsl.html#v?rootid" class="solar" style="text-decoration:none"><span class="variable" start="1" select="quick" style="color: #d33682">$rootid</span></a><span class="z" style="color: #586e75">"</span><span id="wx673" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:if</span><span id="wx677" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w679"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">) </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span id="wx685" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
      
      </span><span class="ww" id="w687"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">must be one of the following elements: </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span id="wx693" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w695"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="higher" start="1" style="color: #b58900">for</span><span class="whitespace" start="4" style="color: #b58900"> </span><span id="rng-$elem" class="variable" start="5" select="quick" style="color: #d33682">$elem</span><span class="whitespace" start="10" style="color: #b58900"> </span><span class="op" start="11" style="color: #b58900">in</span><span class="whitespace" start="13" style="color: #b58900"> </span><a href="../../../xslt/base/html/param.xsl.html#v?root.elements" class="solar" style="text-decoration:none"><span class="variable" start="14" select="quick" style="color: #d33682">$root.elements</span></a><span class="step" start="28" style="color: #b58900">/</span><span class="qname" start="29" select="quick" style="color: #6c71c4">*</span><span class="filter" start="30" pair-end="53" select="quick" style="color: #268bd2">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar" style="text-decoration:none"><span class="function" start="31" pair-end="40" select="quick" style="color: #cb4b16">position</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="parenthesis" start="40" style="color: #268bd2">)</span><span class="whitespace" start="41" style="color: #b58900"> </span><span class="qname" start="42" select="quick" style="color: #6c71c4">&amp;</span><span class="op" start="43" style="color: #b58900">lt</span><span class="qname" start="45" select="quick" style="color: #6c71c4">;</span><span class="whitespace" start="46" style="color: #b58900"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar" style="text-decoration:none"><span class="function" start="47" pair-end="52" select="quick" style="color: #cb4b16">last</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="parenthesis" start="52" style="color: #268bd2">)</span><span class="filter" start="53" style="color: #268bd2">]</span><span class="whitespace" start="54" style="color: #b58900">
                            </span><span class="op" start="60" style="color: #b58900">return</span><span class="whitespace" start="66" style="color: #b58900"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar" style="text-decoration:none"><span class="function" start="67" pair-end="83" select="quick" style="color: #cb4b16">local-name</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="variable" start="78" select="quick" style="color: #d33682">$elem</span><span class="parenthesis" start="83" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">separator</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><span class="av" style="color: #859900">, </span><span class="z" style="color: #586e75">"</span><span id="wx737" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w739"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">, or </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span id="wx745" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w747"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:value-of</span><span class="z" style="color: #586e75"> </span><span class="atn" style="color: #2aa198">select</span><span class="atneq" style="color: #586e75">=</span><span class="z" style="color: #586e75">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar" style="text-decoration:none"><span class="function" start="1" pair-end="36" select="quick" style="color: #cb4b16">local-name</span></a><span class="parenthesis" style="color: #268bd2">(</span><a href="../../../xslt/base/html/param.xsl.html#v?root.elements" class="solar" style="text-decoration:none"><span class="variable" start="12" select="quick" style="color: #d33682">$root.elements</span></a><span class="step" start="26" style="color: #b58900">/</span><span class="qname" start="27" select="quick" style="color: #6c71c4">*</span><span class="filter" start="28" pair-end="35" select="quick" style="color: #268bd2">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar" style="text-decoration:none"><span class="function" start="29" pair-end="34" select="quick" style="color: #cb4b16">last</span></a><span class="parenthesis" style="color: #268bd2">(</span><span class="parenthesis" start="34" style="color: #268bd2">)</span><span class="filter" start="35" style="color: #268bd2">]</span><span class="parenthesis" start="36" style="color: #268bd2">)</span><span class="z" style="color: #586e75">"</span><span id="wx765" class="sc" style="color: #586e75">/&gt;</span></span><span class="txt" style="color: #839496">
      </span><span class="ww" id="w767"><span class="es" style="color: #586e75">&lt;</span><span class="enxsl" style="color: #268bd2">xsl:text</span><span class="scx" style="color: #586e75">&gt;</span><span class="txt" style="color: #839496">.</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:text</span><span id="wx773" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
    </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:message</span><span id="wx777" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
  </span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:template</span><span id="wx781" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
  
  
</span><span class="ez" style="color: #586e75">&lt;/</span><span class="clxsl" style="color: #268bd2">xsl:stylesheet</span><span id="wx785" class="ec" style="color: #586e75">&gt;</span></span><span class="txt" style="color: #839496">
</span></pre></div></body></html>